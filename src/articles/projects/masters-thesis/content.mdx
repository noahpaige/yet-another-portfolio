---
title: "Masters Thesis"
description: "Academic research and thesis work"
type: "project"
date: "2024-12-01"
readTime: 20
tags: ["Research", "Academic", "Thesis"]
image: "/masters-thesis.png"
imageAltText: "Masters thesis research and academic work"
featured: true
featuredOrder: 1
colorPairs:
  [
    [{ h: 15, s: 30, l: 10 }, { h: 235, s: 5, l: 8 }],
    [{ h: 25, s: 60, l: 10 }, { h: 235, s: 10, l: 8 }],
  ]
---

# üß† Personality and Mood for Non-Player Characters

### A Method for Behavior Simulation in a Maze Environment

#### **By Noah Paige**

---

This project explores how to make non-player characters (NPCs) in video games feel more lifelike and believable‚Äînot just visually, but in how they behave and react emotionally. Drawing from real psychological models of personality and mood, I created a system where NPCs make decisions based on a mix of their personality traits and current emotional state. These traits impact how they act in a maze simulation, how they interact with each other, and even how their faces animate in real time. The result is a system where NPCs don‚Äôt just follow rigid, scripted behaviors‚Äîthey respond dynamically and sometimes unpredictably, creating more immersive, emergent gameplay. This kind of model could make future games more expressive and storytelling richer, while also saving time with procedural animation instead of manual animation work.

---

### Introduction

Non-player characters (NPCs) are a staple in most modern games, yet they are often criticized for their lack of believability and emotional realism. This thesis tackles that problem by proposing a behavior model for NPCs that integrates psychological models‚Äîspecifically, the **Five-Factor Model of Personality** and the **Circumplex Model of Affect**‚Äîto create more dynamic and emotionally responsive NPCs.

The goal was to explore how personality and mood can be combined to produce emergent, unscripted behaviors in NPCs, which could enhance player immersion and narrative depth. To test the system, a maze simulation environment was built in Unity, where NPCs would navigate and interact based on their personalities and emotional states.

---

### Background

#### Role of NPCs in Games

NPCs play various roles in games‚Äîquest-givers, enemies, companions, or vendors. Yet many behave in limited, rigid ways due to reliance on traditional **finite state machines**, which lack flexibility in unpredictable situations. This leads to behavior that feels artificial and breaks immersion.

#### Five-Factor Model of Personality

Often referred to as the ‚ÄúBig Five,‚Äù this model breaks personality into:

- **Openness**
- **Conscientiousness**
- **Extraversion**
- **Agreeableness**
- **Neuroticism**

Each NPC is assigned a numerical value (0‚Äì1) for each trait, which influences their behavior.
_Table 2.1 and Table 2.2 explain traits and their facets._

#### Circumplex Model of Affect

This 2D model places emotions on a graph with axes for **pleasantness** and **activation** (energy). NPCs‚Äô current moods are represented as points on this graph, which shift over time based on their experiences. This model allows mood to fluctuate realistically.

üìç _\[TODO Figure 2.2 goes here]_ ‚Äî Russell‚Äôs Circumplex Model of Affect

#### Procedural Animation

Instead of using pre-recorded animations, this system uses **blendshapes**‚Äîfacial expressions generated algorithmically based on mood. This approach saves time and produces more varied, reactive NPCs.

---

### Related Work

Previous projects like Mac Namee‚Äôs AI system, Li and MacDonnell‚Äôs emotion-based models, and Georgeson‚Äôs ‚ÄúExtreme AI Personality Engine‚Äù laid the groundwork. However, these often used simplified personality models or didn‚Äôt combine personality with mood in real-time decision-making.

This thesis builds on those ideas but integrates personality and mood into a **behavior tree traversal** and links it directly to real-time facial animation.

---

### Proposed Method

Three main components were developed:

1. **A behavior model** driven by personality and mood.
2. **A procedural facial animation system** that reflects NPC mood.
3. **A maze simulation** to observe emergent behaviors and interactions.

#### Behavior Model

NPCs choose from actions like "Go To Node", "Greet", "Follow", "Share", "Wait", and "Scan" based on:

- What they can see
- Their current mood and personality
- A **potential value heuristic** that estimates how a given action might move their mood closer to their "desired mood"

üìç _\[TODO Figure 6.4 goes here]_ ‚Äî Flowchart of a behavior update cycle

Each action computes:

- **EFactor**: effect on energy
- **PFactor**: effect on pleasantness

These influence the NPC‚Äôs mood, which updates after each action.

#### Mood and Personality in Action

- Personality traits determine an NPC‚Äôs desired emotional state.
- Actions impact their current mood.
- The **potential value** of an action is how close it brings the NPC to their desired mood.
- NPCs prefer actions with high potential value and may interrupt actions mid-way to switch to something better.

---

### Simulation Environment

A custom maze was built in Unity. Each NPC starts in a common area and tries to reach the exit, either alone or by collaborating with others.

üìç _\[TODO Figure 6.1 goes here]_ ‚Äî Maze Overview
üìç _\[TODO Figure 6.2 goes here]_ ‚Äî NPC in the Maze
üìç _\[TODO Figure 6.3 goes here]_ ‚Äî Maze Nodes

NPCs:

- Maintain a memory of visited nodes
- Have a perception score for each other NPC (ranging -1 to +1)
- Can share knowledge, follow others, or wait for companions

This setup allows rich social dynamics to emerge, such as friendship, avoidance, or teamwork.

---

### Procedural Animation

Mood-driven facial expressions are rendered using blendshapes. The NPC‚Äôs mood coordinates on the circumplex graph determine which facial expressions are blended and displayed.

üìç _\[TODO Figure 6.5 goes here]_ ‚Äî Mood Graph with Emotions
üìç _\[TODO Figure 6.6 goes here]_ ‚Äî Facial Expression Examples

This enables real-time visual feedback of internal emotional states without manual animation.

---

### Results

#### Emergent Behavior

100 iterations of the simulation showed clear correlations between personality traits and behavior choices. For example:

- NPCs high in **conscientiousness** explored more of the maze.
- NPCs high in **extraversion** were more likely to greet or follow others.
- **Neurotic** NPCs had stronger emotional fluctuations.

üìç _\[TODO Table 7.1 goes here]_ ‚Äî Action vs. Trait Correlation
üìç _\[TODO Table 7.2 goes here]_ ‚Äî Trait vs. Mood Distance

#### Procedural Animation Evaluation

The facial animation system successfully reflected mood changes. NPCs showed more lifelike expressions, helping viewers intuitively understand their emotional state.

üìç _\[TODO Figure 7.1 goes here]_ ‚Äî Maze Simulation UI
üìç _\[TODO Figure 7.2 goes here]_ ‚Äî NPC Status and Face

---

### Applications

This system could be applied to any game genre. Two specific examples are discussed:

- **The Elder Scrolls V: Skyrim** ‚Äî Could enhance storytelling and quest design by making NPCs react differently based on their personality and mood.
- **NBA 2K** ‚Äî Teammates and opponents could have unique playstyles and moods, changing how games unfold.

---

### Future Work

Ideas for future development include:

- Using more granular personality traits (facets)
- Expanding mood models
- Improving procedural animations for body language, not just facial expressions
- Testing in more complex or varied environments

---

### Conclusion

This thesis demonstrated that combining personality and mood models from psychology can dramatically improve the believability and behavior of NPCs. The integration of real-time emotion simulation and procedural facial animation creates characters that not only act differently but also feel emotionally alive‚Äîbringing us one step closer to the immersive realism often promised but rarely delivered in video games.
