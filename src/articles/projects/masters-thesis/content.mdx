---
title: "Masters Thesis"
description: "Academic research and thesis work"
type: "project"
date: "2024-12-01"
readTime: 20
tags: ["Research", "Academic", "Thesis"]
image: "/masters-thesis.png"
imageAltText: "Masters thesis research and academic work"
featured: true
featuredOrder: 1
colorPairs:
  [
    [{ h: 15, s: 70, l: 20 }, { h: 235, s: 5, l: 8 }],
    [{ h: 25, s: 60, l: 10 }, { h: 235, s: 10, l: 8 }],
  ]
---

I completed this project in 2020 as part of my Masters in Computer Science at California Polytechnic State University, San Luis Obispo. You can download a full copy of my thesis [here](/Noah_Paige_Masters_Thesis.pdf). It's also available on [Cal Poly Digital Commons](https://digitalcommons.calpoly.edu/theses/2406/).

If you're lazy, check out the [TL;DR](#tldr).

For my visual learners, take a look at the [Video Showcase](#video-showcase).

For everyone else, go on down to the [Thesis Summary](#thesis-summary).

---

## TL;DR

How do you make NPCs in video games feel more lifelike and believable? No, the answer is not to use an LLM! For one, I did this in the dark ages before ChatGPT. But more importantly, it‚Äôs the wrong tool‚Äîlike a square peg in a round hole. Instead, I turned to real psychology research: things like the [**Five-Factor Model of Personality**](#five-factor-model-of-personality) and the [Circumplex Model of Affect](#circumplex-model-of-affect). With these concepts, I built a system that gives NPCs actual personality traits and emotional states. Think of it as giving them a brain that‚Äôs not necessarily smarter, but more emotional. They get happy, they get grumpy, they make friends, and they avoid people they don't like.

These traits drive not just their decisions but also their facial expressions. As they make choices, their emotions show up on their faces in real time with procedural animation based on their mood. No more dead-eyed robots doing the same thing over and over. Their feelings affect their behavior, and their behavior changes how they feel. It‚Äôs a loop with emotional consequences.

To test the system, I built a simple maze environment in Unity. For each NPC, the goal was simple: reach the end of the maze. The way they went about solving it was completely up to them. Each one behaved differently depending on their personality, and even small tweaks in group dynamics led to different outcomes‚Äîwho finished first, who helped or avoided others, and so on.

In testing, the system produced NPCs whose personalities and moods led to distinct, believable behaviors and expressive, emotionally-driven interactions ‚Äî demonstrating that this approach can make game worlds feel more alive. While this work was constrained by the time and resources available to me as a student researcher, I love to imagine how this could be expanded upon with a larger team and more resources. Picture an innkeeper in Elder Scrolls who remembers you stole all of his things the last time you visited, or teammates in NBA 2K who act differently when you hog the ball.

---

## Video Showcase

#### Thesis Defense Presentation

This is a screen recording of the presentation I gave when I defended my thesis. If you want me to upload a version with audio, help me get 500 likes on the video!

<YouTubeVideo
  videoId="cK4MgCyOVPQ?si=PMUNEr0Zzjr_OEdV"
  title="Masters Thesis Presentation"
  maxHeight={300}
  horizontalAlign="center"
/>

<br />

#### Maze Simulation

Here's a video of the maze simulation from start to finish. TODO send da video

<YouTubeVideo
  videoId="20RuUF9LnNA?si=bPFH-DJ0spAlYtrN"
  title="Masters Thesis Presentation"
  aspectRatio="1920:1000"
  maxHeight={300}
  horizontalAlign="center"
/>

---

# Thesis Summary

<br />

### Introduction

Non-player characters (NPCs) are a staple in most modern games, yet they are often criticized for their lack of believability and emotional realism. This thesis tackles that problem by proposing a behavior model for NPCs that integrates psychological models‚Äîspecifically, the [**Five-Factor Model of Personality**](#five-factor-model-of-personality) and the [**Circumplex Model of Affect**](#circumplex-model-of-affect)‚Äîto create more dynamic and emotionally responsive NPCs.

The goal was to explore how personality and mood can be combined to produce emergent, unscripted behaviors in NPCs, which could enhance player immersion and narrative depth. To test the system, a maze simulation environment was built in Unity, where NPCs would navigate and interact based on their personalities and emotional states.

<br />

### Background

#### Role of NPCs in Games

NPCs play various roles in games‚Äîquest-givers, enemies, companions, or vendors. Yet many behave in limited, rigid ways due to reliance on traditional **finite state machines**, which lack flexibility in unpredictable situations. This leads to behavior that feels artificial and breaks immersion.

#### Five-Factor Model of Personality

Often referred to as the ‚ÄúBig Five,‚Äù this model breaks personality into five traits: **Openness**, **Conscientiousness**, **Extraversion**, **Agreeableness**, and **Neuroticism**. Each NPC is assigned a numerical value (0‚Äì1) for each trait, which influences their behavior.

Each NPC is assigned a numerical value (0‚Äì1) for each trait, which combine to define their personality.

<Image
  src="/big-five.webp"
  alt="Five-Factor Model of Personality Image"
  width={500}
  captionText="Five-Factor Model of Personality"
/>

#### Circumplex Model of Affect

This 2D model places emotions on a graph with axes for **pleasantness** and **activation** (energy). NPCs‚Äô current moods are represented as points on this graph, which shift over time based on their experiences. The direction and magnitude of the shift is determined by a combination of the NPC's personality and the actions they take.

<Image
  src="/circumplex_model.png"
  alt="Circumplex Model of Affect Image"
  width={500}
  captionText="Russell‚Äôs Circumplex Model of Affect"
/>
<ImageGrid>
  <Image
    src="/choom.png"
    alt="Circumplex Model of Affect"
    captionText="My Choom!!!"
  />
  <Image src="/control.jpg" alt="FBC" captionText="ANSWER IT" />
  <Image src="/kojima.jpg" alt="KOKIMA" captionText="WOOOO KOJIMA" />
</ImageGrid>
üìç _\[TODO Figure 2.2 goes here]_ ‚Äî Russell‚Äôs Circumplex Model of Affect

#### Procedural Animation

Instead of using pre-recorded animations, this system uses **blendshapes**‚Äîfacial expressions generated algorithmically based on mood. This approach saves time and produces more varied, reactive NPCs.

<br />

### Proposed Method

Three main components were developed:

1. **A behavior model** driven by personality and mood.
2. **A procedural facial animation system** that reflects NPC mood.
3. **A maze simulation** to observe emergent behaviors and interactions.

#### Behavior Model

NPCs choose from actions like "Go To Node", "Greet", "Follow", "Share", "Wait", and "Scan" based on:

- What they can see
- Their current mood and personality
- A **potential value heuristic** that estimates how a given action might move their mood closer to their "desired mood"

üìç _\[TODO Figure 6.4 goes here]_ ‚Äî Flowchart of a behavior update cycle

Each action computes:

- **EFactor**: effect on energy
- **PFactor**: effect on pleasantness

These influence the NPC‚Äôs mood, which updates after each action.

#### Mood and Personality in Action

- Personality traits determine an NPC‚Äôs desired emotional state.
- Actions impact their current mood.
- The **potential value** of an action is how close it brings the NPC to their desired mood.
- NPCs prefer actions with high potential value and may interrupt actions mid-way to switch to something better.

<br />

### Simulation Environment

A custom maze was built in Unity. Each NPC starts in a common area and tries to reach the exit, either alone or by collaborating with others.

üìç _\[TODO Figure 6.1 goes here]_ ‚Äî Maze Overview
üìç _\[TODO Figure 6.2 goes here]_ ‚Äî NPC in the Maze
üìç _\[TODO Figure 6.3 goes here]_ ‚Äî Maze Nodes

NPCs:

- Maintain a memory of visited nodes
- Have a perception score for each other NPC (ranging -1 to +1)
- Can share knowledge, follow others, or wait for companions

This setup allows rich social dynamics to emerge, such as friendship, avoidance, or teamwork.

<br />

### Procedural Animation

Mood-driven facial expressions are rendered using blendshapes. The NPC‚Äôs mood coordinates on the circumplex graph determine which facial expressions are blended and displayed.

üìç _\[TODO Figure 6.5 goes here]_ ‚Äî Mood Graph with Emotions
üìç _\[TODO Figure 6.6 goes here]_ ‚Äî Facial Expression Examples

This enables real-time visual feedback of internal emotional states without manual animation.

<br />

### Results

#### Emergent Behavior

100 iterations of the simulation showed clear correlations between personality traits and behavior choices. For example:

- NPCs high in **conscientiousness** explored more of the maze.
- NPCs high in **extraversion** were more likely to greet or follow others.
- **Neurotic** NPCs had stronger emotional fluctuations.

üìç _\[TODO Table 7.1 goes here]_ ‚Äî Action vs. Trait Correlation
üìç _\[TODO Table 7.2 goes here]_ ‚Äî Trait vs. Mood Distance

#### Procedural Animation Evaluation

The facial animation system successfully reflected mood changes. NPCs showed more lifelike expressions, helping viewers intuitively understand their emotional state.

üìç _\[TODO Figure 7.1 goes here]_ ‚Äî Maze Simulation UI
üìç _\[TODO Figure 7.2 goes here]_ ‚Äî NPC Status and Face

<br />

### Applications

This system could be applied to any game genre. Two specific examples are discussed:

- **The Elder Scrolls V: Skyrim** ‚Äî Could enhance storytelling and quest design by making NPCs react differently based on their personality and mood.
- **NBA 2K** ‚Äî Teammates and opponents could have unique playstyles and moods, changing how games unfold.

<br />

### Future Work

Ideas for future development include:

- Using more granular personality traits (facets)
- Expanding mood models
- Improving procedural animations for body language, not just facial expressions
- Testing in more complex or varied environments

<br />

### Conclusion

This thesis demonstrated that combining personality and mood models from psychology can dramatically improve the believability and behavior of NPCs. The integration of real-time emotion simulation and procedural facial animation creates characters that not only act differently but also feel emotionally alive‚Äîbringing us one step closer to the immersive realism often promised but rarely delivered in video games.
